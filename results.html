<!doctype html>
<html lang="pl">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Results</title>
		<meta name="theme-color" content="#317EFB" />
		<link rel="manifest" href="manifest_v2.json" />
		<link rel="stylesheet" href="css/main.css" />

		<script>
			const viewInfo = (item) => {
				const resultsInfoDOM = document.querySelector('.info');
				const resultsDOM = document.querySelector('.results');

				Object.entries(item).forEach(([key, value]) => {
					if (key === 'id') return;
					const h3 = document.createElement('h3');
					h3.classList.add('info__h3', `info__${key}`);
					if (key === 'location' && value.length > 3) {
						h3.classList.add('info__location--small');
					}
					h3.textContent = value;

					resultsInfoDOM.appendChild(h3);
					resultsDOM.style.visibility = 'visible';
				});
			};

			const showLocation = ({ id }) => {
				document.querySelector(`#${id}`).classList.add('active');
			};

			const getItem = () => {
				const storedItem = sessionStorage.getItem('pilot');
				if (storedItem) return JSON.parse(storedItem);
			};

			const init = () => {
				const item = getItem();
				viewInfo(item);
				showLocation(item);
			};

			document.addEventListener('DOMContentLoaded', init);
		</script>
	</head>
	<body>
		<div class="results">
			<div class="results__grafic">
				<div class="cell cell__a" id="a">A</div>
				<div class="cell cell__b" id="b">B</div>
				<div class="cell cell__c" id="c">C</div>
				<div class="cell cell__d" id="d">D</div>
				<div class="cell cell__e" id="e">E</div>
				<div class="cell cell__f" id="f">F</div>

				<div class="cell cell__g" id="g">G</div>
				<div class="cell cell__h" id="h">H</div>
				<div class="cell cell__i" id="i">I</div>
				<div class="cell cell__j" id="jJ">J</div>
				<div class="cell cell__k" id="k">K</div>

				<div class="cell cell__s" id="s">S</div>
				<div class="cell cell__t" id="t">T</div>
				<div class="cell cell__u" id="u">U</div>
				<div class="cell cell__w" id="w">W</div>

				<div class="cell cell__x" id="x">X</div>
				<div class="cell cell__y" id="y">Y</div>
				<div class="cell cell__z" id="z">Z</div>
				<div class="cell cell__aa" id="aa">AA</div>

				<div class="cell cell__p-sciana-1" id="pod-sc-1">Pod Sc 1</div>
				<div class="cell cell__p-sciana-2" id="pod-sc-2">Pod Sc 2</div>
				<div class="cell cell__p-sciana-3" id="pod-sc-3">Pod Sc 3</div>
				<div class="cell cell__p-sciana-4" id="pod-sc-4">Pod Sc 4</div>
				<div class="cell cell__p-sciana-5" id="pod-sc-5">Pod Sc 5</div>

				<div class="cell cell__p-korytarz-1" id="pod-kor-1">Pod Kor 1</div>
				<div class="cell cell__p-korytarz-2" id="pod-kor-2">Pod Kor 2</div>
				<div class="cell cell__p-korytarz-3" id="pod-kor-3">Pod Kor 3</div>

				<div class="cell cell__p-srodek-1" id="pod-sr-1">Pod Sr 1</div>
				<div class="cell cell__p-srodek-2" id="pod-sr-2">Pod Sr 2</div>

				<div class="cell cell__p-srodek-reg-1" id="pod-sr-reg-1">
					Pod Sr Reg 1
				</div>
				<div class="cell cell__p-srodek-reg-2" id="pod-sr-reg-2">
					Pod Sr Reg 2
				</div>

				<div class="cell cell__p-sciana-reg" id="pod-sc-reg">Pod Sc Reg</div>

				<div class="cell cell__p-lewa" id="pod-lew">Pod Lew</div>
			</div>
			<div class="info"></div>

			<a href="index.html" class="results__back">WRÓĆ</a>
		</div>
	</body>
</html>
